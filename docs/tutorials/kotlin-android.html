<html>
<head>
<meta charset="utf-8">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->


<title>Getting started with Android and Kotlin - Kotlin 编程语言</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/assets/images/apple-touch-icon-144x144.png"/>
<link rel="stylesheet" href="/0_assets/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="Getting started with Android and Kotlin - Kotlin 编程语言"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://kotlinlang.org/docs/tutorials/kotlin-android.html"/>
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description" content="This tutorial walks us through creating a simple Kotlin application for Android using Android Studio.">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="Getting started with Android and Kotlin - Kotlin 编程语言">
    <meta name="twitter:description" content="This tutorial walks us through creating a simple Kotlin application for Android using Android Studio.">
<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->
    <script src="/0_assets/default.js"></script>
    <script src="/0_assets/common.js"></script>
    <link rel="stylesheet" href="/0_assets/common.css"/>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="global-layout">

<header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/">Kotlin</a>
<nav role="navigation" class="global-nav">

    <div class="nav-links">

            <a href="/docs/reference/"
               class="nav-item "
            >
                学习
            </a>

            <a href="/community/"
               class="nav-item "
            >
                社区
            </a>

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                在线试用
            </a>
    </div>


<div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div></nav>        </div>
    </div>

    <div class="g-layout">
    </div>
</header>
    <div class="g-layout global-content">

    <nav role="navigation" class="docs-nav">
            <div class="nav-item-wrap">
                    <a href="/docs/reference/" class="nav-item">
                    <span class="nav-item-text">
                        参考
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/tutorials/" class="nav-item is_active">
                        <span class="nav-item-text">
                            教程
                        </span>
                    </a>
            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                    </a>

            </div>
    </nav>

    <div class="g-grid">
        <aside class="g-3">
            <div class="js-side-tree-nav">
                    <nav role="navigation" class="side-tree-nav">
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="开始">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">开始</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/getting-started.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">从 IntelliJ IDEA 入门</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/getting-started-eclipse.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">从 Eclipse 入门</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/command-line.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用命令行编译器</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/build-tools.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用构建工具</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/koans.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">心印</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Java 互操作">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Java 互操作</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/mixing-java-kotlin-intellij.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">在一个项目中混用 Java 和 Kotlin</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="JavaScript">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">JavaScript</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 转 JavaScript</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">以 Gradle 入门</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/getting-started-idea/getting-started-with-intellij-idea.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">以 IntelliJ IDEA 入门</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/getting-started-maven/getting-started-with-maven.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">以 Maven 入门</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/getting-started-command-line/command-line-library-js.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用命令行编译器创建 Kotlin JavaScript 库</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/working-with-modules/working-with-modules.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 与 JavaScript 模块使用</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/javascript/working-with-javascript.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">与 JavaScript 合用</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="协程">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">协程</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/coroutines-basic-jvm.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JVM 平台的 Kotlin 协程简介</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Web 开发">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Web 开发</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/httpservlets.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">用 Http Servlets 创建 web 应用</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/spring-boot-restful.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">用  Spring Boot 创建 RESTful Web 服务</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _opened"
                 data-id="移动开发">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">移动开发</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                                <div class="marker"></div>
                                <div class="text">Android 开发入门</div>
                            </div>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/android-plugin.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin Android 扩展</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="工具">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">工具</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/tutorials/kotlin-and-ci.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">TeamCity 配置 Kotlin</span>
                            </a>
                    </div>

            </div>
    </nav>

            </div>
        </aside>

        <article role="main" class="page-content g-9">
<a href="https://github.com/hltj/kotlin-web-site-cn/edit/master/pages/docs/tutorials/kotlin-android.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>
            <h1>
                Getting started with Android and Kotlin
            </h1>
            <table>
                    <tr>
                        <td>
                            <strong>Author</strong>
                        </td>
                        <td>
                            Philip Torchinsky, Svetlana Isakova
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>Last Updated</strong>
                        </td>
                        <td>
                            25 July 2015
                        </td>
                    </tr>
            </table>
                This tutorial walks us through creating a simple Kotlin application for Android using Android Studio.
                <br/>
                <br/>
            
<h3 id="installing-the-kotlin-plugin">Installing the Kotlin plugin</h3>
<p>First, if using Android Studio, you'll need to install the Kotlin plugin.
Go to <em>File | Settings | Plugins | Install JetBrains plugin…</em> and then search for and install <em>Kotlin</em>.
You'll need to restart the IDE after this completes.</p>
<h3 id="creating-a-project">Creating a project</h3>
<p>It’s extremely easy to start using Kotlin for Android development! In this tutorial we’ll follow the warming up process with Android Studio.
If using Intellij IDEA with Android, the process is almost the same.</p>
<p>First let's create a new project. We choose <strong>Start a new Android Studio project</strong> or <strong>File | New project</strong>.
The following dialogs walk us through the process of new project creation. 
We need to name the project and choose which Android SDK version we have installed. Most options can be left with their default values, so we can press 'Enter' several
times.</p>
<p>Name the project:
<img alt="Dialog 1" src="/assets/images/tutorials/kotlin-android/0-create-new-project.png"/></p>
<p>Choose the Android version:</p>
<p><img alt="Dialog 2" src="/assets/images/tutorials/kotlin-android/1-create-new-project.png"/></p>
<p>Choose creating an activity that will be generated for you:</p>
<p><img alt="Dialog 3" src="/assets/images/tutorials/kotlin-android/2-create-new-project.png"/></p>
<p>Name the activity:</p>
<p><img alt="Dialog 4" src="/assets/images/tutorials/kotlin-android/3-create-new-project.png"/></p>
<p>We've created a new project with one Java activity that was generated for us.</p>
<p>But now we'd like to add some code in Kotlin. The easiest way to start using Kotlin is to convert automatically Java activity into Kotlin one.
Please note that anytime instead of looking through documentation for a new way to express an old pattern, 
you can write it in Java, then copy-paste Java code into Kotlin file, and Intellij (or Android Studio) will suggest to convert it.</p>
<h4 id="converting-java-code-to-kotlin">Converting Java code to Kotlin</h4>
<p>Open MainActivity.java file. Then invoke action <strong>Convert Java File to Kotlin File</strong>. You can do it by several ways.
The easiest one is to invoke <a href="https://www.jetbrains.com/idea/help/navigating-to-action.html">Find Action</a> and start typing an action name (like in a screencast below). 
Alternatively we can call this option via the <em>Code | Convert Java File to Kotlin File</em>  menu entry or by using the corresponding shortcut (we can find it at the menu entry).</p>
<p><img alt="Convert" src="/assets/images/tutorials/kotlin-android/convert-java-to-kotlin.png"/></p>
<p>After the conversion we should have an activity written in Kotlin.</p>
<p><img alt="Koltin-Activity" src="/assets/images/tutorials/kotlin-android/converted-code.png"/></p>
<h4 id="configuring-kotlin-in-the-project">Configuring Kotlin in the project</h4>
<p>When adding a new Kotlin file, IntelliJ IDEA (and Android Studio) automatically prompts us as to whether we'd like to configure the Kotlin runtime for the project. However, currently, converting existing Java
file does not prompt this action. Therefore we have to invoke it manually (via <a href="https://www.jetbrains.com/idea/help/navigating-to-action.html">Find Action</a>):</p>
<p><img alt="Config-Kotlin" src="/assets/images/tutorials/kotlin-android/configure-kotlin-in-project.png"/></p>
<p>We are then prompted for the version of Kotlin. Choose the latest available from the list of installed versions.</p>
<p><img alt="Config-Kotlin-Details" src="/assets/images/tutorials/kotlin-android/configure-kotlin-in-project-details.png"/></p>
<p>After we configure Kotlin, build.gradle file for the application should be updated. 
Now we can see that <em>apply plugin: 'kotlin-android'</em> and the dependencies were added.</p>
<p><em>(For more details how to set up gradle for your project, please check <a href="/docs/reference/using-gradle.html">Using Gradle</a>)</em></p>
<p>The last thing to do is to sync the project. We can press 'Sync Now' in a prompt or invoke an action <strong>Sync Project with Gradle Files</strong>.</p>
<p><img alt="Sync-Project-With-Gradle" src="/assets/images/tutorials/kotlin-android/sync-project-with-gradle.png"/></p>
<h3 id="making-user-interface-changes">Making user interface changes</h3>
<p>Now that the project has been set up, we can work with the layout using IntelliJ IDEA's visual designer.
There is nothing different in terms of layout when working with Kotlin, thus this is similar to regular Android Java development.
While using layout designer in IntelliJ IDEA, note there are two tabs in the designer: <strong>Text</strong> and <strong>Design</strong>. The latter shows how the layout looks, while the former allows fine tuning with XML editing.</p>
<p><img alt="Layout Editor" src="/assets/images/tutorials/kotlin-android/layout-editor.png"/></p>
<h3 id="building-and-publishing-the-kotlin-application-for-android">Building and publishing the Kotlin application for Android</h3>
<p>Kotlin has a rather small runtime file size: the library is approximately 858KB (as of 1.1.1). This means Kotlin adds just a little to .apk file size.</p>
<p>We are now ready to build the application in debug mode (<strong>&lt;Shift+F9&gt;</strong>), run it on an emulator or device (<strong>&lt;Shift+F10&gt;</strong>), or build signed release of the application to upload it to Google Play or another application store.</p>
<p>We can make a release of the application and sign it similarly to what we do for an Android application written in Java.</p>
<p>Kotlin compiler produces byte-code, thus there really is no difference in terms of look and feel of Kotlin applications versus those written in Java.</p>
<h3 id="whats-next">What's next?</h3>
<p>Read about <a href="android-plugin.html">Kotlin Android Extensions plugin</a>. If you want to learn different Kotlin features, try <a href="koans.html">Kotlin Koans</a>.</p>

        </article>
    </div>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2017 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
            Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            由<a href="http://tanfujun.com" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>、<a href="http://github.com/hltj" class="testimonial-company-link" target="_blank" rel="nofollow">灰蓝天际</a> <a href="https://github.com/cctanfujun/kotlin-web-site-cn#翻译进度" class="testimonial-company-link" target="_blank" rel="nofollow">等</a>译
            </div>
        </div>
    </div>

</footer>
</body>
</html>