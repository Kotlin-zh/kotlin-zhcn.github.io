<html>
<head>
<meta charset="utf-8">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->


<title>在Kotlin中调用Java代码 - Kotlin 编程语言</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/assets/images/apple-touch-icon-144x144.png"/>
<link rel="stylesheet" href="/0_assets/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="在Kotlin中调用Java代码 - Kotlin 编程语言"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://kotlinlang.org/docs/reference/java-interop.html"/>
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description"
          content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="在Kotlin中调用Java代码 - Kotlin 编程语言">
    <meta name="twitter:description"
          content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">
<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->    <script src="/0_assets/default.js"></script>
    <script src="/0_assets/common.js"></script>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- CrazyEgg -->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/6939.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
<!-- End CrazyEgg -->
<div class="global-layout">

<header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/">Kotlin</a>
<nav role="navigation" class="global-nav">

    <div class="nav-links">

            <a href="/docs/reference/"
               class="nav-item "
            >
                学习
            </a>

            <a href="/community/"
               class="nav-item "
            >
                社区
            </a>

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                在线试用
            </a>
    </div>


<div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div></nav>        </div>
    </div>

    <div class="g-layout">
    </div>
</header>
    <div class="g-layout global-content">

    <nav role="navigation" class="docs-nav">
            <div class="nav-item-wrap">
                    <a href="/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            参考
                        </span>
                    </a>
            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        教程
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                    </a>

            </div>
    </nav>

    <div class="g-grid">

        <aside class="g-3">
            <div class="js-side-tree-nav">
                    <nav role="navigation" class="side-tree-nav">
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="开始">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">开始</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/basic-syntax.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基础语法</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/idioms.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">习惯用法</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/coding-conventions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">编码习惯</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/whatsnew11.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">1.1 的新特性</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="基础">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">基础</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/basic-types.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基本类型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/packages.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">包</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/control-flow.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">控制流</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/returns.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">返回和跳转</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="类和对象">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">类和对象</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类和继承</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">属性和字段</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/interfaces.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">接口</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/visibility-modifiers.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">可见性修饰符</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/extensions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">扩展</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/data-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">数据类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/generics.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">泛型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/nested-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">嵌套类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/enum-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">枚举类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/object-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">对象</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/delegation.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委托</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/delegated-properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委托属性</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="函数和 Lambda 表达式">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">函数和 Lambda 表达式</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">函数</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/lambdas.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Lambda 表达式</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/inline-functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">内联函数</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="其他">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">其他</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/multi-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">解构声明</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/collections.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">集合</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/ranges.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">区间</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/typecasts.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类型检查与转换</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/this-expressions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">This 表达式</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/equality.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">相等性</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/operator-overloading.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">操作符重载</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/null-safety.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">空安全</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/exceptions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">异常</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/annotations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">注解</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">反射</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/type-safe-builders.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类型安全的构建器</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="参考">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">参考</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="https://kotlinlang.org/api/latest/jvm/stdlib/index.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">API 参考</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/grammar.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">语法</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _opened"
                 data-id="Java 互操作">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Java 互操作</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                                <div class="marker"></div>
                                <div class="text">Kotlin 调用 Java</div>
                            </div>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/java-to-kotlin-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Java 调用 Kotlin</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="JavaScript">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">JavaScript</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/dynamic-type.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">动态类型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript 互操作性</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript 反射</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="工具">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">工具</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/kotlin-doc.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">生成 Kotlin 代码文档</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-maven.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Maven</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-ant.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Ant</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-gradle.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Gradle</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/kotlin-osgi.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 和 OSGi</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="常见问题">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">常见问题</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/faq.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">FAQ</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/comparison-to-java.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">与 Java 比较</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/comparison-to-scala.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">与 Scala 比较</span>
                            </a>
                    </div>

            </div>
    </nav>


                <a href="/docs/kotlin-docs.pdf" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">完整 Kotlin 参考</span>
                </a>
            </div>
        </aside>

        <article role="main" class="page-content g-9">
<a href="https://github.com/JetBrains/kotlin-web-site/edit/master/pages/docs/reference/java-interop.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>
                
<h1 id="在kotlin中调用java代码">在Kotlin中调用Java代码</h1>
<p>Kotlin 在设计时就是以与 java 交互为中心的。现存的 Java 代码可以在 kotlin 中使用，并且 Kotlin 代码也可以
在 Java 中流畅运行。这节我们会讨论在 kotlin 中调用 Java 代码的细节。</p>
<p>基本所有的 Java 代码都可以运行</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">import java.util.*

fun demo(source: List&lt;Int&gt;) {
    val list = ArrayList&lt;Int&gt;()
    // 'for'-loops work for Java collections:
    for (item in source) {
        list.add(item)
    }
    // Operator conventions work as well:
    for (i in 0..source.size() - 1) {
        list[i] = source[i] // get and set are called
    }
}
</code></pre>
<h2 id="getters-和-setters">Getters 和 Setters</h2>
<p>若一个属性的getter/setter方法按照约定的规范进行命名(getter方法以<code>get</code>开头不带参数/setter方法以<code>set</code>开头
带一个参数)，那么在Kotlin中可以直接对这个属性进行访问。如：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">import java.util.Calendar

fun calendarDemo() {
    val calendar = Calendar.getInstance()
    if (calendar.firstDayOfWeek == Calendar.SUNDAY) {  // call getFirstDayOfWeek()
        calendar.firstDayOfWeek = Calendar.MONDAY       // call setFirstDayOfWeek()
    }
}
</code></pre>
<p>需要注意的是，对于只有setter方法的属性，kotlin目前还不支持对它的直接访问。</p>
<h2 id="返回void的方法">返回void的方法</h2>
<p>如果一个Java方法返回void，那么在Kotlin中，它会返回<code>Unit</code>。
万一有人使用它的返回值，Kotlin的编译器会在调用的地方赋值，
因为这个值本身已经提前可以预知了(这个值就是<code>Unit</code>)。</p>
<h2 id="将java代码中与kotlin关键字冲突的标识符进行转义">将Java代码中与Kotlin关键字冲突的标识符进行转义</h2>
<p>一些Kotlin的关键字在Java中是合法的标识符: <em class="keyword">in</em>, <em class="keyword">object</em>, <em class="keyword">is</em>, 等等.
如果一个Java库在方法中使用了Kotlin关键字,你仍然可以使用这个方法
使用反引号(`)转义来避免冲突。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">foo.`is`(bar)
</code></pre>
<h2 id="null安全性和平台类型">Null安全性和平台类型</h2>
<p>Java中的所有引用都可能是<em class="keyword">null</em>值，这使得Kotlin严格的null控制对来自Java的对象来说变得不切实际。
在Kotlin中Java声明类型被特别对待叫做<em>platform types</em>.这种类型的Null检查是不严格的，
所以他们还维持着同Java中一样的安全性 (更多参见<a href="#mapped-types">下面</a>)。</p>
<p>考虑如下例子:</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val list = ArrayList&lt;String&gt;() // non-null (constructor result)
list.add("Item")
val size = list.size() // non-null (primitive int)
val item = list[0] // platform type inferred (ordinary Java object)
</code></pre>
<p>当我们调用平台类型的变量上的方法时，Kotlin不会在编译阶段报出可能为空的错误，
但在运行时，会产生空指针异常，或者是断言失败的错误。后者是因为kotlin为了阻止null值传播会生成非空断言语句。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">item.substring(1) // 允许, 如果item为空会抛异常
</code></pre>
<p>平台类型是<em>不可转义</em>的，也就是说我们不能在程序里把他们写出来。
当把一个平台数值赋值给kotlin变量的时候（变量会有一个推断出来的平台类型，
上面的例子里就是<code>item</code>的类型），我们可以用类型推断，或者指定我们期望的类型（nullable和non-null类型都可以）：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val nullable: String? = item // 允许，没有问题
val notNull: String = item // 允许，运行时可能失败
</code></pre>
<p>如果我们指定了一个非空类型，编译器会在赋值前额外生成一个断言。这样Kotlin的非空变量就不会有
空值。当把平台数值传递给只接受非空数值的kolin函数的时候，也同样会生成这个断言，
编译器尽可能的阻止空置在程序里传播。（因为泛型的存在，
有时也不能百分百的阻止）</p>
<h3 id="平台类型的概念">平台类型的概念</h3>
<p>如上所述，平台类型不能在程序里显式的出现，
所以没有针对他们的语法。
然而，编译器和IDE有时需要显式他们(如在错误信息，参数信息中)，所以我们用
一个好记的标记来表示他们：</p>
<ul>
<li><code>T!</code> 表示 "<code>T</code> 或者 <code>T?</code>"</li>
<li><code>(Mutable)Collection&lt;T&gt;!</code> 表示 "<code>T</code>的java集合，可变的或不可变的，可空的或非空的"</li>
<li><code>Array&lt;(out) T&gt;!</code> 表示 "<code>T</code>(或<code>T</code>的子类)的java数组，可空的或非空的"</li>
</ul>
<h3 id="可空性注解">可空性注解</h3>
<p>Java types which have nullability annotations are represented not as platform types, but as actual nullable or non-null
Kotlin types. The compiler supports several flavors of nullability annotations, including:</p>
<ul>
<li><a href="https://www.jetbrains.com/idea/help/nullable-and-notnull-annotations.html">JetBrains</a>
(<code>@Nullable</code> and <code>@NotNull</code> from the <code>org.jetbrains.annotations</code> package)</li>
<li>Android (<code>com.android.annotations</code> and <code>android.support.annotations</code>)</li>
<li>JSR-305 (<code>javax.annotation</code>)</li>
<li>FindBugs (<code>edu.umd.cs.findbugs.annotations</code>)</li>
<li>Eclipse (<code>org.eclipse.jdt.annotation</code>)</li>
<li>Lombok (<code>lombok.NonNull</code>).</li>
</ul>
<p>You can find the full list in the <a href="https://github.com/JetBrains/kotlin/blob/master/core/descriptor.loader.java/src/org/jetbrains/kotlin/load/java/JvmAnnotationNames.kt">Kotlin compiler source code</a>.</p>
<h2 id="已映射类型">已映射类型</h2>
<p>Kotlin特殊处理一部分java类型。这些类型不是通过as或is来直接转换，而是_映射_到了指定的kotlin类型上。
映射只发生在编译期间，运行时仍然是原来的类型。
java的原生类型映射成如下kotlin类型（记得 <a href="#platform-types">平台类型</a>）：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java类型</strong></th>
<th><strong>Kotlin类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>byte</code></td>
<td><code>kotlin.Byte</code></td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>kotlin.Short</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>kotlin.Int</code></td>
</tr>
<tr>
<td><code>long</code></td>
<td><code>kotlin.Long</code></td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>kotlin.Char</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>kotlin.Float</code></td>
</tr>
<tr>
<td><code>double</code></td>
<td><code>kotlin.Double</code></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>kotlin.Boolean</code></td>
</tr>
</tbody>
</table>
<p>一些非原生类型也会作映射：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java类型</strong></th>
<th><strong>Kotlin类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>java.lang.Object</code></td>
<td><code>kotlin.Any!</code></td>
</tr>
<tr>
<td><code>java.lang.Cloneable</code></td>
<td><code>kotlin.Cloneable!</code></td>
</tr>
<tr>
<td><code>java.lang.Comparable</code></td>
<td><code>kotlin.Comparable!</code></td>
</tr>
<tr>
<td><code>java.lang.Enum</code></td>
<td><code>kotlin.Enum!</code></td>
</tr>
<tr>
<td><code>java.lang.Annotation</code></td>
<td><code>kotlin.Annotation!</code></td>
</tr>
<tr>
<td><code>java.lang.Deprecated</code></td>
<td><code>kotlin.Deprecated!</code></td>
</tr>
<tr>
<td><code>java.lang.Void</code></td>
<td><code>kotlin.Nothing!</code></td>
</tr>
<tr>
<td><code>java.lang.CharSequence</code></td>
<td><code>kotlin.CharSequence!</code></td>
</tr>
<tr>
<td><code>java.lang.String</code></td>
<td><code>kotlin.String!</code></td>
</tr>
<tr>
<td><code>java.lang.Number</code></td>
<td><code>kotlin.Number!</code></td>
</tr>
<tr>
<td><code>java.lang.Throwable</code></td>
<td><code>kotlin.Throwable!</code></td>
</tr>
</tbody>
</table>
<p>集合类型在Kotlin里可以是只读的或可变的，因此Java集合类型作如下映射：
（下表所有的Kotlin类型都在<code>Kotlin</code>包里）</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java类型</strong></th>
<th><strong>Kotlin只读类型</strong></th>
<th><strong>Kotlin可变类型</strong></th>
<th><strong>加载的平台类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Iterator&lt;T&gt;</code></td>
<td><code>Iterator&lt;T&gt;</code></td>
<td><code>MutableIterator&lt;T&gt;</code></td>
<td><code>(Mutable)Iterator&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Iterable&lt;T&gt;</code></td>
<td><code>Iterable&lt;T&gt;</code></td>
<td><code>MutableIterable&lt;T&gt;</code></td>
<td><code>(Mutable)Iterable&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Collection&lt;T&gt;</code></td>
<td><code>Collection&lt;T&gt;</code></td>
<td><code>MutableCollection&lt;T&gt;</code></td>
<td><code>(Mutable)Collection&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Set&lt;T&gt;</code></td>
<td><code>Set&lt;T&gt;</code></td>
<td><code>MutableSet&lt;T&gt;</code></td>
<td><code>(Mutable)Set&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>List&lt;T&gt;</code></td>
<td><code>List&lt;T&gt;</code></td>
<td><code>MutableList&lt;T&gt;</code></td>
<td><code>(Mutable)List&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>ListIterator&lt;T&gt;</code></td>
<td><code>ListIterator&lt;T&gt;</code></td>
<td><code>MutableListIterator&lt;T&gt;</code></td>
<td><code>(Mutable)ListIterator&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Map&lt;K, V&gt;</code></td>
<td><code>Map&lt;K, V&gt;</code></td>
<td><code>MutableMap&lt;K, V&gt;</code></td>
<td><code>(Mutable)Map&lt;K, V&gt;!</code></td>
</tr>
<tr>
<td><code>Map.Entry&lt;K, V&gt;</code></td>
<td><code>Map.Entry&lt;K, V&gt;</code></td>
<td><code>MutableMap.MutableEntry&lt;K,V&gt;</code></td>
<td><code>(Mutable)Map.(Mutable)Entry&lt;K, V&gt;!</code></td>
</tr>
</tbody>
</table>
<p>Java数组的映射在这里提到过 <a href="java-interop.html#java-arrays">below</a>：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java类型</strong></th>
<th><strong>Kotlin类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int[]</code></td>
<td><code>kotlin.IntArray!</code></td>
</tr>
<tr>
<td><code>String[]</code></td>
<td><code>kotlin.Array&lt;(out) String&gt;!</code></td>
</tr>
</tbody>
</table>
<h2 id="kotlin中的java泛型">Kotlin中的Java泛型</h2>
<p>Kotlin的泛型和Java的有些不同（详见 <a href="generics.html">Generics</a>）。当引入java类型的时候，我们作如下转换：</p>
<ul>
<li>Java的通配符转换成类型投射
    <ul>
<li><code>Foo&lt;? extends Bar&gt;</code> 转换成 <code>Foo&lt;out Bar!&gt;!</code></li>
<li><code>Foo&lt;? super Bar&gt;</code> 转换成 <code>Foo&lt;in Bar!&gt;!</code></li>
</ul>
</li>
<li>Java的原始类型转换成星号投射
    <ul>
<li><code>List</code> 转换成 <code>List&lt;*&gt;!</code>, 也就是 <code>List&lt;out Any?&gt;!</code></li>
</ul>
</li>
</ul>
<p>和Java一样，Kotlin在运行时不保留泛型，即对象不知道传递到他们构造器中的那些参数的的实际类型。
也就是，<code>ArrayList&lt;Integer&gt;()</code> 和 <code>ArrayList&lt;Character&gt;()</code> 是区分不出来的。
这意味着，不可能用 <em class="keyword">is</em>-来检测泛型。
Kotlin只允许用<em class="keyword">is</em>-来检测星号投射的泛型类型:</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (a is List&lt;Int&gt;) // 错误: 不能检测是否是一个Int的List
// but
if (a is List&lt;*&gt;) // 可以：不保证list里面的内容类型
</code></pre>
<h3 id="java数组">Java数组</h3>
<p>和Java不同，Kotlin里的数组不是协变的。Kotlin不允许我们把<code>Array&lt;String&gt;</code> 赋值给 <code>Array&lt;Any&gt;</code>，
从而避免了可能的运行时错误。Kotlin也禁止我们把一个子类的数组当做父类的数组传递进Kotlin的方法里。
但是对Java方法，这是允许的（考虑这种形式的平台类型<a href="#platform-types">platform types</a> <code>Array&lt;(out) String&gt;!</code>）。</p>
<p>Java平台上，原生数据类型的数组被用来避免封箱/开箱的操作开销。
由于Kotlin隐藏了这些实现细节，就得有一个变通方法和Java代码交互。
每个原生类型的数组都有一个特有类(specialized class)来处理这种问题(<code>IntArray</code>, <code>DoubleArray</code>, <code>CharArray</code> …)。
它们不是<code>Array</code>类，而是被编译成java的原生数组，来获得最好的性能。</p>
<p>假设有一个Java方法，它接受一个表示索引的int数组作参数</p>
<pre><code class="code _highlighted" data-lang="text/x-java">public class JavaArrayExample {

    public void removeIndices(int[] indices) {
        // code here...
    }
}
</code></pre>
<p>在Kotlin里你可以这样传递一个原生数组:</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val javaObj = JavaArrayExample()
val array = intArrayOf(0, 1, 2, 3)
javaObj.removeIndices(array)  // passes int[] to method
</code></pre>
<p>当编译成jvm字节码的时候，编译器会优化对数组的访问，确保不会产生额外的负担。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val array = arrayOf(1, 2, 3, 4)
array[x] = array[x] * 2 // 不会生成对get() 和 set()的调用
for (x in array) { // 不会创建迭代器
    print(x)
}
</code></pre>
<p>即便是用索引遍历数组。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">for (i in array.indices) {// 不会创建迭代器
    array[i] += 2
}
</code></pre>
<p>最后，<em class="keyword">in</em>-检测也没有额外负担。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (i in array.indices) { // 和 (i &gt;= 0 &amp;&amp; i &lt; array.size) 一样
    print(array[i])
}
</code></pre>
<h2 id="java-varargs">Java Varargs</h2>
<p>Java类也会这样声明方法，表示参数是可变参数。</p>
<pre><code class="code _highlighted" data-lang="text/x-java">public class JavaArrayExample {

    public void removeIndices(int... indices) {
        // code here...
    }
}
</code></pre>
<p>这种情况，你需要用展开操作符 <code>*</code> 来传递 <code>IntArray</code>：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val javaObj = JavaArray()
val array = intArrayOf(0, 1, 2, 3)
javaObj.removeIndicesVarArg(*array)
</code></pre>
<p>目前无法传递 <em class="keyword">null</em> 给一个变参的方法。</p>
<h2 id="操作符">操作符</h2>
<p>虽然Java不能自定义操作符重载，但Kotlin允许任意
使用方法名合法的方法与标示符进行操作符重载，也可以自定义其它约定（如<code>invoke()</code>等）。
但调用Java代码的时候，使用中缀语法(<code>infix call syntax</code>)是不被允许的。</p>
<h2 id="受检异常">受检异常</h2>
<p>在Kotlin里，所有的异常都是非受检的, 也就是说，编译器不会强制你去捕捉任何异常。
因此，你调用一个声明了异常的java方法的时候，kotlin不会强制你作处理。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun render(list: List&lt;*&gt;, to: Appendable) {
    for (item in list) {
        to.append(item.toString()) // Java里会让你在这里捕捉IOException
    }
}
</code></pre>
<h2 id="对象方法">对象方法</h2>
<p>当java类型被引入到kotlin里时，所有的<code>java.lang.Object</code>类型引用，会被转换成 <code>Any</code>。
因为<code>Any</code>不是平台独有的，它仅声明了三个成员方法：<code>toString()</code>, <code>hashCode()</code> 和 <code>equals()</code>，
所以为了能用到<code>java.lang.Object</code>的其他方法，kotlin采用了<a href="extensions.html">扩展函数</a>。</p>
<h3 id="waitnotify">wait()/notify()</h3>
<p><a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a> 第69条善意的提醒了要用concurrency类而不是<code>wait()</code> 和 <code>notify()</code>。
因此，<code>Any</code>不提供这两个方法。
你一定要用的话，就把它转换成<code>java.lang.Object</code>。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">(foo as java.lang.Object).wait()
</code></pre>
<h3 id="getclass">getClass()</h3>
<p>获取一个对象的类型信息，我们可以用javaClass这个扩展属性。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val fooClass = foo.javaClass
</code></pre>
<p>用javaClass<foo>()，而不是java里的写法`Foo.class`。</foo></p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val fooClass = javaClass&lt;Foo&gt;()
</code></pre>
<h3 id="clone">clone()</h3>
<p>要重写<code>clone()</code>，扩展<code>kotlin.Cloneable</code>：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">
class Example : Cloneable {
  override fun clone(): Any { ... }
}
</code></pre>
<p>不要忘了 <a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a>,第11条: <em>谨慎的重写克隆</em>。</p>
<h3 id="finalize">finalize()</h3>
<p>要重载 <code>finalize()</code>, 你要做的仅仅是声明它，不需要 <em class="keyword">override</em> 关键字：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">class C {
    protected fun finalize() {
        // 具体逻辑
    }
}
</code></pre>
<p>根据 Java 的规则， <code>finalize()</code>不能为 <em class="keyword">private</em>。</p>
<h2 id="从-java类的继承">从 Java类的继承</h2>
<p>在kotlin里，超类里最多只能有一个java类(java接口数目不限)。这个java类必须放在超类列表的最前面。</p>
<h3 id="访问静态成员">访问静态成员</h3>
<p>java类的静态成员就是它们的 “伴生对象”。我们无法将这样的“伴生对象”当作数值来传递，
但可以显式的访问它们，比如：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (Character.isLetter(a)) {
    // ...
}
</code></pre>
<h2 id="java-反射">Java 反射</h2>
<p>Java反射可以用在kotlin类上，反之亦然。前面提过，你可以 <code>instance.javaClass</code> 或者
<code>ClassName::class.java</code> 开始基于 <code>java.lang.Class</code> 的java反射操作。</p>
<p>Other supported cases include acquiring a Java getter/setter method or a backing field for a Kotlin property, a <code>KProperty</code> for a Java field, a Java method or constructor for a <code>KFunction</code> and vice versa.</p>
<h2 id="sam单抽象方法-转换">SAM(单抽象方法) 转换</h2>
<p>就像 Java 8 那样，Kotlin 支持 SAM 转换，这意味着 Kotlin 函数字面量可以被自动的转换成
只有一个非默认方法的 Java 接口的实现，只要这个方法的参数类型
能够跟这个 Kotlin 函数的参数类型匹配的上。</p>
<p>你可以这样创建SAM接口的实例：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val runnable = Runnable { println("This runs in a runnable") }
</code></pre>
<p>…在方法调用里:</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val executor = ThreadPoolExecutor()
// Java签名: void execute(Runnable command)
executor.execute { println("This runs in a thread pool") }
</code></pre>
<p>如果 Java 类有多个接受函数接口的方法，你可以用一个
适配函数来把闭包转成你需要的 SAM 类型。编译器也会在必要时生成这些适配函数。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">executor.execute(Runnable { println("This runs in a thread pool") })
</code></pre>
<p>注意SAM的转换只对接口有效，对抽象类无效，即使它们就只有一个
抽象方法。</p>
<p>还要注意这个特性只针对和 Java 的互操作；因为 Kotlin 有合适的函数类型，把函数自动转换成
Kotlin 接口的实现是没有必要的，也就没有支持了。</p>
<h2 id="在kotlin中使用jni">在Kotlin中使用JNI</h2>
<p>如果要声明一个使用本机代码(C 或者 C++)实现的方法，你需要给它加上<code>external</code>标识符(等同于Java里的<code>native</code>)</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">external fun foo(x: Int): Double
</code></pre>
<p>余下的工作和Java完全一样</p>

        </article>
    </div>

    <script src="/0_assets/reference.js"></script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2017 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
            Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            由<a href="http://tanfujun.com" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>、<a href="http://github.com/hltj" class="testimonial-company-link" target="_blank" rel="nofollow">灰蓝天际</a> <a href="https://github.com/cctanfujun/kotlin-web-site-cn#翻译进度" class="testimonial-company-link" target="_blank" rel="nofollow">等</a>译
            </div>
        </div>
    </div>

</footer></body>
</html>